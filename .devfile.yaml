schemaVersion: 2.2.0
metadata:
  name: ansible-demo
components:
  - name: tooling-container
    container:
      image: quay.io/mloriedo/ansible-creator-ee:latest
      memoryRequest: 256M
      memoryLimit: 6Gi
      cpuRequest: 250m
      cpuLimit: 2000m
commands:
  - id: molecule-test
    exec:
      label: "Molecule: Run Scenario for Backup Role"
      commandLine: 'molecule test'
      workingDir: ${PROJECTS_ROOT}/ansible-devspace-demo/roles/backup_file
      group:
        kind: run
        isDefault: true
      component: tooling-container
  - id: molecule-verify
    exec:
      label: "Molecule: Validate Backup File Role"
      commandLine: 'molecule test'
      workingDir: ${PROJECTS_ROOT}/ansible-devspace-demo/roles/backup_file
      group:
        kind: run
        isDefault: true
      component: tooling-container
